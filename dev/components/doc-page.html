<!-- [çº¦å®š] ç»„ä»¶ç§æœ‰æ ·å¼ -->
<style>
    :host { display: block; max-width: 800px; margin: 40px auto; }
    .container { 
        background: #fff; padding: 40px; border-radius: 12px; 
        box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    }
    h1 { color: #2d3748; border-bottom: 2px solid #e2e8f0; padding-bottom: 20px; }
    .desc { color: #718096; line-height: 1.6; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
    
    /* æ¼”ç¤º s-show */
    .loading-tip { color: blue; font-style: italic; margin-bottom: 10px; }
</style>

<!-- [çº¦å®š] ç»„ä»¶ DOM ç»“æ„ -->
<div class="container">
    <div class="loading-tip" s-show="isLoading">æ­£åœ¨åˆå§‹åŒ–ç»„ä»¶å¼•æ“...</div>

    <h1 s-text="pageTitle"></h1>
    <p class="desc">
        æœ¬é¡µé¢å®Œå…¨ç”± <b>ComponentLoader.js V3.0</b> æ¸²æŸ“ã€‚<br>
        å½“å‰æ¼”ç¤ºç»“æ„ï¼šindex.html -> doc-page -> feature-card
    </p>

    <!-- å¾ªç¯/åˆ—è¡¨æ¸²æŸ“æš‚æ—¶éœ€æ‰‹åŠ¨å¤„ç†ï¼Œè¿™é‡Œæ¼”ç¤ºæ‰‹åŠ¨æ”¾ç½®å­ç»„ä»¶ -->
    <div class="grid">
        <!-- ä¼ é€’ props: title -->
        <feature-card title="åŸç”Ÿ Shadow DOM">
            <span slot="icon">ğŸ›¡ï¸</span>
            <div slot="desc">æ ·å¼å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ï¼Œä¿æŒä»£ç æ•´æ´ã€‚</div>
        </feature-card>

        <feature-card title="æç®€å“åº”å¼">
            <span slot="icon">âš¡</span>
            <div slot="desc">æ”¯æŒ s-text, s-model, s-show ç­‰ç±» Vue æŒ‡ä»¤ã€‚</div>
        </feature-card>

        <feature-card title="ç»„ä»¶åµŒå¥—">
            <span slot="icon">ğŸ“¦</span>
            <div slot="desc">æ”¯æŒåœ¨ç»„ä»¶å†…éƒ¨é€šè¿‡ $loader åŠ¨æ€æ³¨å†Œå­ç»„ä»¶ã€‚</div>
        </feature-card>
        
        <feature-card title="HTML ç‰‡æ®µå¯¼å…¥">
            <span slot="icon">ğŸ“„</span>
            <div slot="desc">æ”¯æŒ async/await å¯¼å…¥çº¯ HTML ç‰‡æ®µå¹¶è¿½åŠ åˆ° DOMã€‚</div>
        </feature-card>
    </div>

    <!-- è¿™é‡Œçš„å®¹å™¨ç”¨äºæŒ‚è½½ raw-footer.html -->
    <div id="footer-container" style="margin-top: 40px; border-top: 1px dashed #ccc;"></div>
</div>

<!-- [çº¦å®š] ä¸šåŠ¡é€»è¾‘ -->
<script>
    // 1. åˆå§‹åŒ–æ•°æ®
    $state.pageTitle = "ComponentLoader V3.0 æ–‡æ¡£";
    $state.isLoading = true;

    // 2. åŠ¨æ€æ³¨å†Œå­ç»„ä»¶ (Web ç»„ä»¶å¯¼å…¥ Web ç»„ä»¶)
    // æ³¨æ„ï¼šè·¯å¾„ç›¸å¯¹äº index.htmlï¼Œæˆ–è€…ä½¿ç”¨ç»å¯¹è·¯å¾„
    $loader.registerComponent('feature-card', './components/feature-card.html');

    // 3. æ¨¡æ‹Ÿå¼‚æ­¥åŠ è½½æ•ˆæœ
    setTimeout(() => {
        $state.isLoading = false;
        $state.pageTitle = "ComponentLoader V3.0 æ¼”ç¤ºå®Œæˆ";
    }, 800);

    // 4. åŠ è½½é Web ç»„ä»¶ (çº¯ HTML ç‰‡æ®µ)
    (async () => {
        const footerTpl = await $loader.importHtml('./components/raw-footer.html');
        // $scope æ˜¯ shadowRoot
        $scope.querySelector('#footer-container').appendChild(footerTpl);
    })();
</script>