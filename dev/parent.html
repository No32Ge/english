<div>
  <my-counter s-bind:id="1"></my-counter>
  <my-counter s-bind:id="2"></my-counter>
</div>

<script>
  $state.childCounts = { 1: 0, 2: 0 };

  const counters = $scope.querySelectorAll('my-counter');
  counters.forEach(counter => {
    counter.addEventListener('update', (e) => {
      const id = counter.getAttribute('id');
      $state.childCounts[id] = e.detail;
      console.log('父组件状态:', $state.childCounts);
    });
  });
</script>
