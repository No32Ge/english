<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Sraian EN">
    <meta property="og:description" content="nothing beats Sraian English">
    <meta property="og:image" content="https://ge32english.com/ge32/labs/GeSeed/v1/res/icon.png">
    <meta property="og:url" content="https://ge32english.com/ge32/labs/GeSeed/v1/home.html">
    <meta property="og:type" content="website">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#000000">
    <title>Schala's Magic Book</title>
    <!-- 使用Bootstrap简化样式 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="icon" href="./res/img/png/icon.png">
    <link rel="stylesheet" href="./css/menu.css">
    <link rel="stylesheet" href="./css/addGram.css">
    <link rel="stylesheet" href="./css/addVocab.css">
    <link rel="stylesheet" href="./css/catalog.css">
    <link rel="stylesheet" href="./css/export.css">
    <link rel="stylesheet" href="./css/import.css">
    <link rel="stylesheet" href="./css/importFromJs.css">
    <link rel="stylesheet" href="./css/article/head.css">
    <link rel="stylesheet" href="./css/article/paragraph.css">
    <link rel="stylesheet" href="./css/article/chineseContent.css">
    <link rel="stylesheet" href="./css/common/speaker.css">
    <link rel="stylesheet" href="./css/common/delete.css">
    <link rel="stylesheet" href="./css/article/vocab-list.css">
    <link rel="stylesheet" href="./css/article//grammer.css">
    <link rel="stylesheet" href="./css/article/englishText.css">
    <link rel="stylesheet" href="./css/page/container.css">
</head>

<body>

    <div class="container" id='Sraian'>
        <!-- <div class="bg"></div> -->
        <div class="header">
            <h1 id="page-title">Sraian阅读器</h1>
            <div class="info-bar" id="info-area">
                <!-- 信息将通过JavaScript动态生成 -->
            </div>
        </div>
        <div class="content" id="content-area">
            <!-- 内容将通过JavaScript动态生成 -->
        </div>
        <div class="footer">
            <p>Created by Lil Geos | Spotlight 0.1</p>
        </div>
    </div>
    <div class="word-tooltip" id="word-tooltip"></div>
    <!-- 工具提示容器 -->
    <div id="slot-tooltip" class="slot-tooltip"></div>
    <script>
        console.log("b21")
        const contentArea = document.getElementById("content-area");
        // 中英文内容
        const texts = {
            en: {
                name: "Name: Spotlight",
                author: "Author: Ge32 (Yu Jian)",
                purpose: "Purpose: Learn English",
                version: "Version: 2.1",
                description: "",
                where: "log:"
            },
            zh: {
                name: "功能测试",
                author: "作者：Ge32（余健）",
                purpose: "用途：学英语",
                version: "版本：2.1",
                description: "第一次加载速度稍微慢一点。之后再次加载速度就快了",
                where: "日志:"
            }
        };
        // 检测浏览器语言
        const lang = navigator.language.startsWith("zh") ? "zh" : "en";
        const t = texts[lang];
        // 渲染
        contentArea.innerHTML = `
        <div style="margin-bottom:4px;">${t.name}</div>
        <div style="margin-bottom:4px;">${t.author}</div>
        <div style="margin-bottom:4px;">${t.purpose}</div>
        <div style="margin-bottom:4px;">${t.version}</div>
        <div style="margin-bottom:4px;">${t.description}
            <div id="where" style="margin-top:2px;">${t.where}</div>
        </div>
    `;
    </script>
    <script src = "./yt.js" id="yt"></script>
    <script>
        const logs = [];
        function logStep(msg) {
            logs.push(msg);
            document.getElementById("where").innerHTML = logs.map((e, i) => `<div>${i} ${e}</div>`).join("");
        }
        document.addEventListener('initStep', e => logStep(e.detail));
    </script>
    <script type="module" src="./main.js">
        ready({ version: "1.0", status: "ready" });
    </script>
    <script src = "./version.js"></script>
    
    <!-- 语法模块 -->
    <script type="text/template">
        <div class="modal-overlay" id="add-grammar-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">语法点</h3>
            </div>
            <div class="modal-body">
                <!-- 选项卡导航 -->
                <div class="modal-tabs">
                    <button class="modal-tab active" data-tab="form">当前语法数据</button>
                    <button class="modal-tab" data-tab="json">添加语法数据</button>
                </div>

                <!-- 表单填写选项卡 -->
                <div class="modal-tab-content active" id="grammar-form-tab" data-tab="form">
                    <div class="form-group">
                        <label class="form-label required-field">当前语法数据</label>
                        <textarea type="text" class="json-input" id="grammar-rule-now"
                            placeholder="Ge32 english 语法框框"></textarea>
                    </div>


                </div>

                <!-- JSON批量添加选项卡 -->
                <div class="modal-tab-content" id="grammar-json-tab" data-tab="json">
                    <div class="form-group">
                        <label class="form-label required-field">JSON数据</label>
                        <textarea class="json-input" id="grammar-json" placeholder='输入JSON数组，例如：
[
  {
    "rule": "present perfect tense",
    "cat": "T",
    "desc": "现在完成时用法",
    "ex": "I have finished my homework."
  },
  {
    "rule": "conditional sentences",
    "cat": "C",
    "desc": "条件句结构",
    "ex": "If it rains, we will cancel the trip."
  }
]'></textarea>

                        <div class="add-method-buttons">
                            <button class="btn batch-add-btn" id="batch-add-grammar-btn">批量添加JSON</button>

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancel-grammar-btn">取消</button>
                </div>
            </div>
        </div>
    </div>

    </script>
</body>

</html>